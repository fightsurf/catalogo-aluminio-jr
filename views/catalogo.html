<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>Cat√°logo Alum√≠nio JR</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f7f7f7;
      margin: 20px;
    }
    h1 {
      text-align: center;
    }
    .categoria {
      margin-top: 30px;
      padding: 10px;
      background: #222;
      color: #fff;
      font-weight: bold;
    }
    .produto {
      background: #fff;
      padding: 8px 12px;
      border-bottom: 1px solid #ddd;
      display: flex;
      justify-content: space-between;
    }
    .preco {
      font-weight: bold;
    }
  </style>
</head>
<body>

<h1>üì¶ Cat√°logo Alum√≠nio JR</h1>
<div id="catalogo"></div>

<script>
fetch('/api/produtos')
  .then(res => res.json())
  .then(produtos => {
    const container = document.getElementById('catalogo');
    const grupos = {};

    produtos.forEach(p => {
      if (!grupos[p.categoria]) {
        grupos[p.categoria] = [];
      }
      grupos[p.categoria].push(p);
    });

    Object.keys(grupos).forEach(categoria => {
      const titulo = document.createElement('div');
      titulo.className = 'categoria';
      titulo.innerText = categoria;
      container.appendChild(titulo);

      grupos[categoria].forEach(p => {
        const div = document.createElement('div');
        div.className = 'produto';
        div.innerHTML = `
          <span>${p.nome}</span>
          <span class="preco">R$ ${p.preco.toFixed(2)}</span>
        `;
        container.appendChild(div);
      });
    });
  });
</script>

</body>
</html>
